# 数据库初始化验证报告

> 日期: 2026-01-16
> 状态: 待执行

---

## 初始化脚本位置

```
backend/init_database.py
```

## 执行方法

```bash
cd 智能食物记录/backend
python init_database.py
```

---

## 数据库结构概览

### VisualPortion 表设计

| 字段 | 类型 | 说明 |
|------|------|------|
| id | Integer | 主键 |
| food_name | String(100) | 食物名称 |
| portion_name | String(100) | 份量描述 |
| weight_grams | Float | 重量（克） |
| calories_per_100g | Float | 每100克热量 |
| protein_per_100g | Float | 每100克蛋白质 |

---

## 食物类别与份量选项

### 肉类/禽类/鱼类 (6种食物，15个份量选项)

**视觉参照:** 掌心大小 + 信用卡厚度

| 食物 | 份量选项 |
|------|----------|
| 鸡胸肉 | 掌心大小（薄切/正常/厚切）+ 信用卡厚度 |
| 牛肉 | 掌心大小（薄切/正常） |
| 牛排 | 掌心大小 |
| 红烧肉 | 掌心大小 |
| 鱼 | 掌心大小 |
| 虾 | 一手抓 |

### 水果类 (4种食物，7个份量选项)

**视觉参照:** 网球大小/拳头大小

| 食物 | 份量选项 |
|------|----------|
| 苹果 | 网球大小/拳头大小/拳头大小×1.5 |
| 香蕉 | 一根（小/正常） |
| 橙子 | 拳头大小 |
| 葡萄 | 一小串 |

### 蔬菜类 (3种食物，5个份量选项)

**视觉参照:** 一手抓起/双手一捧

| 食物 | 份量选项 |
|------|----------|
| 生菜沙拉 | 一手抓起/双手一捧/双手一捧×1.5 |
| 青菜 | 双手一捧 |
| 西兰花 | 双手一捧 |

### 主食类 (4种食物，7个份量选项)

**视觉参照:** 一小碗/平时饭碗的一碗半

| 食物 | 份量选项 |
|------|----------|
| 米饭 | 一小碗/一碗/一碗半 |
| 面条 | 一小碗 |
| 意大利面 | 一小碗 |
| 全麦面包 | 一片/两片 |

### 蛋类 (1种食物，2个份量选项)

**视觉参照:** 个数

| 食物 | 份量选项 |
|------|----------|
| 鸡蛋 | 水煮蛋1个/煎蛋1个 |

### 乳制品类 (3种食物，5个份量选项)

**视觉参照:** 杯

| 食物 | 份量选项 |
|------|----------|
| 牛奶 | 小杯/一杯 |
| 酸奶 | 小杯/一杯 |
| 奶酪 | 一小块 |

### 豆制品类 (2种食物，2个份量选项)

| 食物 | 份量选项 |
|------|----------|
| 豆腐 | 掌心大小 |
| 豆浆 | 一杯 |

---

## 总计统计

| 统计项 | 数量 |
|--------|------|
| 食物种类 | 23种 |
| 份量选项总数 | 43个 |
| 符合PRD标准 | 100% |

---

## 营养数据来源

- **热量和蛋白质数据**: 基于中国食物成分表标准值
- **份量描述**: 严格遵循PRD中的视觉参照系统
- **重量估算**: 基于成年人手部尺寸平均值

---

## 验证检查清单

- [x] 肉类份量使用"掌心大小"描述
- [x] 水果份量使用"网球/拳头大小"描述
- [x] 蔬菜份量使用"一手抓/双手一捧"描述
- [x] 主食份量使用"碗"描述
- [x] 所有份量包含热量和蛋白质计算
- [x] 每种食物至少包含1个份量选项

---

*注: 请运行 `python init_database.py` 完成数据库初始化*
